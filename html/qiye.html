<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
		
		<script src="../js/fenye.js" type="text/javascript" charset="utf-8"></script>
		
		<link rel="stylesheet" type="text/css" href="../css/reset.css" />
		<link rel="stylesheet" type="text/css" href="../css/header.css" />
		<link rel="stylesheet" type="text/css" href="../css/qiye.css" />
		<link rel="stylesheet" type="text/css" href="../css/fenye.css"/>
		<style type="text/css">
				#pages{
					display: inline-block;
		overflow: auto;
				}
				#pages li{
					float: left;
					margin: 10px;
					padding: 10px;
					border: 1px solid red;
					cursor: pointer;
					 display: inline;
				}
				#pages li span{
					display: inline-block;
					padding: 10px;
					margin: 0 10px;
					border: 1px solid red;
					cursor: pointer;
				}
				#pages li span:hover,#pages li span.hover{
					background: red;
					color: white;
				}
				#pages .pageNum{
					border: none;
					padding: 0;
				}
			</style>
	</head>
	<body>
		<header>

		</header>
		<script type="text/javascript">
			$(function() {
				$("header").load("../module_html/header.html");

			})
		</script>

		<div class="logo">
			<a href="" target="_blank" title=""><img src="../img/qiyelogo.png"></a>
		</div>

		<div class="qiye">
			<h2>企业认证</h2>
		</div>
		<div class="qiyelei">
			<div>
				<ul>
					
				</ul>
			</div>
		</div>
		<div class="fenye">
			<ul id="pages">
			<li>首页</li><li>上一页</li><li class="pageNum"></li><li>下一页</li><li>尾页</li>
		</ul>
		</div>
		
		<div class="tuijian">
			<h2><a href="" target="_blank" title="">推荐企业</a></h2>
			<span><a href="" target="_blank" title="">更多企业>></a></span>
			<div>
				<ul>
					<li><a href="" target="_blank" title="">·河北海源酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·贵州天仙酿酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·湖北津江啤酒有限公司</a></li>
					<li><a href="" target="_blank" title="">·亳州市万顺酿酒有限责任公司</a></li>
					<li><a href="" target="_blank" title="">·山西清之祖酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·台湾金门驴城巴巴酒业股份有限公司</a></li>
					<li><a href="" target="_blank" title="">·贵州加多福酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·青岛丽岛啤酒有限公司</a></li>
					<li><a href="" target="_blank" title="">·洛阳九五至尊酒业股份有限公司</a></li>
				</ul>
				<ul>
					<li><a href="" target="_blank" title="">·河北海源酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·贵州天仙酿酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·湖北津江啤酒有限公司</a></li>
					<li><a href="" target="_blank" title="">·亳州市万顺酿酒有限责任公司</a></li>
					<li><a href="" target="_blank" title="">·山西清之祖酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·台湾金门驴城巴巴酒业股份有限公司</a></li>
					<li><a href="" target="_blank" title="">·贵州加多福酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·青岛丽岛啤酒有限公司</a></li>
					<li><a href="" target="_blank" title="">·洛阳九五至尊酒业股份有限公司</a></li>
				</ul>
				<ul>
					<li><a href="" target="_blank" title="">·河北海源酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·贵州天仙酿酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·湖北津江啤酒有限公司</a></li>
					<li><a href="" target="_blank" title="">·亳州市万顺酿酒有限责任公司</a></li>
					<li><a href="" target="_blank" title="">·山西清之祖酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·台湾金门驴城巴巴酒业股份有限公司</a></li>
					<li><a href="" target="_blank" title="">·贵州加多福酒业有限公司</a></li>
					<li><a href="" target="_blank" title="">·青岛丽岛啤酒有限公司</a></li>
					<li><a href="" target="_blank" title="">·洛阳九五至尊酒业股份有限公司</a></li>
				</ul>
			</div>
		</div>

		<div class="wei">
			<ul>
				<li><a href="" target="_blank" title="">关于我们</a></li>
				<li><a href="" target="_blank" title="">友情链接</a></li>
				<li><a href="" target="_blank" title="">招贤纳士</a></li>
				<li><a href="" target="_blank" title="">联系我们</a></li>
				<li><a href="" target="_blank" title="">意见投诉</a></li>
				<li><a href="" target="_blank" title="">法律声明</a></li>
				<li><a href="" target="_blank" title="">网站地图</a></li>
			</ul>
		</div>
		<div class="footer">
			<img src="../img/wei.png">
		</div>
		
		
		<script type="text/javascript">
			
			
			var qiyelei = document.getElementsByClassName("qiyelei")[0].children[0].children[0];
		
			
			$.get("http://47.112.21.225:8080/wine-0.0.1-SNAPSHOT/company/list.do",{},
			
			function (date){
				console.log(date)
				//确定每一页展示的条数
				var numPerPage =18;
				//计算出总页数
				var pages = Math.ceil(date.data.length/numPerPage);
				//把页码显示到页面上
				var oPageNum = document.getElementsByClassName("pageNum")[0];
				var str = "";
				for(var i = 0; i < pages; i++){
					str += "<span>"+(i+1)+"</span>";
				}
				oPageNum.innerHTML = str;
				
				var oPage = document.getElementById("pages");
				var aLi = oPage.children;
				var aSpan = oPageNum.children;
				
				//展示数据列表
				
				//先考虑默认的数据展示
				var curIndex = 0;//当前页
				showNews(curIndex);
				function showNews(num){
					var str1 = "";
					for(var i = numPerPage*num; i < Math.min(numPerPage*(num+1),date.data.length); i++){
						str1 += `
						<li>
										<a href="${date.data[i].curl}" target="_blank" title=""><img src="../img/qiye.png"></a>
										<span><a href="${date.data[i].curl}" target="_blank" title="${date.data[i].cname}">${date.data[i].cname}</a></span>
										<p>${date.data[i].introduce}</p>
									</li>`;
					}
					qiyelei.innerHTML = str1;
					
					for(var i = 0; i < aSpan.length; i++){
						aSpan[i].className = "";
					}
					aSpan[num].className = "hover";
				}
				//点击页码显示对应的页面内容
				//首页
				aLi[0].onclick = function(){
					curIndex = 0;
					showNews(curIndex);
				}
				//尾页
				aLi[aLi.length-1].onclick = function(){
					curIndex = pages-1;
					showNews(curIndex);
				}
				//上一页
				aLi[1].onclick = function(){
					curIndex--;
					if(curIndex < 0){
						curIndex = 0;
					}
					showNews(curIndex);
				}
				//下一页
				aLi[aLi.length-2].onclick = function(){
					curIndex++;
					if(curIndex > pages-1){
						curIndex = pages-1;
					}
					showNews(curIndex);
				}
				
				//具体页码
				for(let i = 0; i < aSpan.length; i++){
					aSpan[i].onclick = function(){
						curIndex = i;
						showNews(curIndex);
					}
				}
				
			});
			
			
			
			
			
		</script>
		
		
		
		
		
		
		
		
		
		
		
		
		
	</body>
</html>
